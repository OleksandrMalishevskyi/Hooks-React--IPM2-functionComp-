(this["webpackJsonpMarvelApi-ReactHooks"]=this["webpackJsonpMarvelApi-ReactHooks"]||[]).push([[4],{101:function(e,c,t){},102:function(e,c,t){},103:function(e,c,t){},104:function(e,c,t){},210:function(e,c,t){},221:function(e,c,t){"use strict";t.r(c);var a=t(12),n=t(1),r=t(17),s=t(41),i=t(24),l=(t(101),t.p+"static/media/mjolnir.61f31e18.png"),j=t(0),o=function(e){var c=e.char,t=c.name,a=c.description,n=c.thumbnail,r=c.homepage,s=c.wiki,i={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===n&&(i={objectFit:"contain"}),Object(j.jsxs)("div",{className:"randomchar__block",children:[Object(j.jsx)("img",{src:n,alt:"Random character",className:"randomchar__img",style:i}),Object(j.jsxs)("div",{className:"randomchar__info",children:[Object(j.jsx)("p",{className:"randomchar__name",children:t}),Object(j.jsx)("p",{className:"randomchar__descr",children:a}),Object(j.jsxs)("div",{className:"randomchar__btns",children:[Object(j.jsx)("a",{href:r,className:"button button__main",children:Object(j.jsx)("div",{className:"inner",children:"homepage"})}),Object(j.jsx)("a",{href:s,className:"button button__secondary",children:Object(j.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},h=function(){var e=Object(n.useState)(null),c=Object(a.a)(e,2),t=c[0],h=c[1],b=Object(i.a)(),d=b.loading,m=b.error,u=b.getCharacters,O=b.clearError;Object(n.useEffect)((function(){x();var e=setInterval(x,6e4);return function(){clearInterval(e)}}),[]);var _=function(e){h(e)},x=function(){O();var e=Math.floor(400*Math.random())+1011e3;u(e).then(_)},v=m?Object(j.jsx)(s.a,{}):null,f=d?Object(j.jsx)(r.a,{}):null,N=d||m||!t?null:Object(j.jsx)(o,{char:t});return Object(j.jsxs)("div",{className:"randomchar",children:[v,f,N,Object(j.jsxs)("div",{className:"randomchar__static",children:[Object(j.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",Object(j.jsx)("br",{}),"Do you want to get to know him better?"]}),Object(j.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),Object(j.jsx)("button",{onClick:x,className:"button button__main",children:Object(j.jsx)("div",{className:"inner",children:"try it"})}),Object(j.jsx)("img",{src:l,alt:"mjolnir",className:"randomchar__decoration"})]})]})},b=t(48),d=t(222),m=t(224),u=(t(102),function(e){var c=Object(n.useState)([]),t=Object(a.a)(c,2),l=t[0],o=t[1],h=Object(n.useState)(!1),u=Object(a.a)(h,2),O=u[0],_=u[1],x=Object(n.useState)(210),v=Object(a.a)(x,2),f=v[0],N=v[1],p=Object(n.useState)(!1),g=Object(a.a)(p,2),k=g[0],y=g[1],C=Object(i.a)(),S=C.loading,w=C.error,F=C.getAllCharacters;Object(n.useEffect)((function(){E(f,!0)}),[]);var E=function(e,c){_(!c),F(e).then(I)},I=function(e){var c=!1;e.length<9&&(c=!0),o((function(c){return[].concat(Object(b.a)(c),Object(b.a)(e))})),_((function(e){return!1})),N((function(e){return e+9})),y((function(e){return c}))},R=Object(n.useRef)([]),T=function(e){R.current.forEach((function(e){return e.classList.remove("char__item_selected")})),R.current[e].classList.add("char__item_selected"),R.current[e].focus()};var A=function(c){var t=c.map((function(c,t){var a={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===c.thumbnail&&(a={objectFit:"unset"}),Object(j.jsx)(d.a,{timeout:500,classNames:"char__item",children:Object(j.jsxs)("li",{className:"char__item",tabIndex:0,ref:function(e){return R.current[t]=e},onClick:function(){e.onCharSelected(c.id),T(t)},onKeyPress:function(a){" "!==a.key&&"Enter"!==a.key||(e.onCharSelected(c.id),T(t))},children:[Object(j.jsx)("img",{src:c.thumbnail,alt:c.name,style:a}),Object(j.jsx)("div",{className:"char__name",children:c.name})]})},c.id)}));return Object(j.jsx)("ul",{className:"char__grid",children:Object(j.jsx)(m.a,{component:null,children:t})})}(l),M=w?Object(j.jsx)(s.a,{}):null,q=S&&!O?Object(j.jsx)(r.a,{}):null;return Object(j.jsxs)("div",{className:"char__list",children:[M,q,A,Object(j.jsx)("button",{className:"button button__main button__long",disabled:O,style:{display:k?"none":"block"},onClick:function(){return E(f)},children:Object(j.jsx)("div",{className:"inner",children:"load more"})})]})}),O=(t(103),function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),Object(j.jsxs)("div",{className:"skeleton",children:[Object(j.jsxs)("div",{className:"pulse skeleton__header",children:[Object(j.jsx)("div",{className:"pulse skeleton__circle"}),Object(j.jsx)("div",{className:"pulse skeleton__mini"})]}),Object(j.jsx)("div",{className:"pulse skeleton__block"}),Object(j.jsx)("div",{className:"pulse skeleton__block"}),Object(j.jsx)("div",{className:"pulse skeleton__block"})]})]})}),_=(t(104),function(e){var c=e.char,t=c.name,a=c.description,n=c.thumbnail,r=c.homepage,s=c.wiki,i=c.comics,l={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===n&&(l={objectFit:"contain"}),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"char__basics",children:[Object(j.jsx)("img",{src:n,alt:t,style:l}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"char__info-name",children:t}),Object(j.jsxs)("div",{className:"char__btns",children:[Object(j.jsx)("a",{href:r,className:"button button__main",children:Object(j.jsx)("div",{className:"inner",children:"homepage"})}),Object(j.jsx)("a",{href:s,className:"button button__secondary",children:Object(j.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),Object(j.jsx)("div",{className:"char__descr",children:a}),Object(j.jsx)("div",{className:"char__comics",children:"Comics:"}),Object(j.jsxs)("ul",{className:"char__comics-list",children:[i.length>0?null:"There is no comics with this character",i.map((function(e,c){if(!(c>9))return Object(j.jsx)("li",{className:"char__comics-item",children:e.name},c)}))]})]})}),x=function(e){var c=Object(n.useState)(null),t=Object(a.a)(c,2),l=t[0],o=t[1],h=Object(i.a)(),b=h.loading,d=h.error,m=h.getCharacters,u=h.clearError;Object(n.useEffect)((function(){x()}),[e.charId]);var x=function(){var c=e.charId;c&&(u(),m(c).then(v))},v=function(e){o(e)},f=l||b||d?null:Object(j.jsx)(O,{}),N=d?Object(j.jsx)(s.a,{}):null,p=b?Object(j.jsx)(r.a,{}):null,g=b||d||!l?null:Object(j.jsx)(_,{char:l});return Object(j.jsxs)("div",{className:"char__info",children:[f,N,p,g]})},v=t(214),f=t(215),N=t(10),p=(t(210),function(){var e=Object(n.useState)(null),c=Object(a.a)(e,2),t=c[0],r=c[1],l=Object(i.a)(),o=l.loading,h=l.error,b=l.getCharacterByName,d=l.clearError,m=function(e){r(e)},u=h?Object(j.jsx)("div",{className:"char__search-critical-error",children:Object(j.jsx)(s.a,{})}):null,O=t?t.length>0?Object(j.jsxs)("div",{className:"char__search-wrapper",children:[Object(j.jsxs)("div",{className:"char__search-success",children:["There is! Visit ",t[0].name," page?"]}),Object(j.jsx)(N.b,{to:"/characters/".concat(t[0].id),className:"button button__secondary",children:Object(j.jsx)("div",{className:"inner",children:"To page"})})]}):Object(j.jsx)("div",{className:"char__search-error",children:"The character was not found. Check the name and try again"}):null;return Object(j.jsxs)("div",{className:"char__search-form",children:[Object(j.jsx)(v.d,{initialValues:{charName:""},validationSchema:f.a({charName:f.b().required("This field is required")}),onSubmit:function(e){var c,t=e.charName;c=t,d(),b(c).then(m)},children:Object(j.jsxs)(v.c,{children:[Object(j.jsx)("label",{className:"char__search-label",htmlFor:"charName",children:"Or find a character by name:"}),Object(j.jsxs)("div",{className:"char__search-wrapper",children:[Object(j.jsx)(v.b,{id:"charName",name:"charName",type:"text",placeholder:"Enter name"}),Object(j.jsx)("button",{type:"submit",className:"button button__main",disabled:o,children:Object(j.jsx)("div",{className:"inner",children:"find"})})]}),Object(j.jsx)(v.a,{component:"div",className:"char__search-error",name:"charName"})]})}),O,u]})}),g=t(39),k=t(40),y=t(45),C=t(46),S=function(e){Object(y.a)(t,e);var c=Object(C.a)(t);function t(){var e;Object(g.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).state={error:!1},e}return Object(k.a)(t,[{key:"componentDidCatch",value:function(e,c){console.log(e,c),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(j.jsx)(s.a,{}):this.props.children}}]),t}(n.Component),w=S,F=t.p+"static/media/vision.067d4ae1.png";c.default=function(){var e=Object(n.useState)(null),c=Object(a.a)(e,2),t=c[0],r=c[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(w,{children:Object(j.jsx)(h,{})}),Object(j.jsxs)("div",{className:"char__content",children:[Object(j.jsx)(w,{children:Object(j.jsx)(u,{onCharSelected:function(e){r(e)}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(w,{children:Object(j.jsx)(x,{charId:t})}),Object(j.jsx)(w,{children:Object(j.jsx)(p,{})})]})]}),Object(j.jsx)("img",{className:"bg-decoration",src:F,alt:"vision"})]})}},41:function(e,c,t){"use strict";var a=t.p+"static/media/error.42292aa1.gif",n=t(0);c.a=function(){return Object(n.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:a,alt:"Error"})}}}]);
//# sourceMappingURL=4.5c6e5494.chunk.js.map